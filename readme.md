# preact-islands-diy

# Variants

- [webpack](#webpack)
- [webpack-auto-inject](https://github.com/barelyhuman/preact-islands-diy/tree/webpack-auto-inject)
- [esbuild](#esbuild) - [Caveats](#caveats-esbuild)

## Webpack

[&rarr; Branch: main](https://github.com/barelyhuman/preact-islands-diy/tree/main)

> Type: Verbose

Contains 2 simple webpack configurations that build the server and client and
you can manually decide what component hydrates on what DOM element.

Can work with older browsers since you select where and how the components
hydrate

## Webpack Auto Inject

> Type: Automatic

[&rarr; Branch: webpack-auto-inject](https://github.com/barelyhuman/preact-islands-diy/tree/webpack-auto-inject)

This one adds a tiny bit of magic by generating the island manifest for you and
also creating wrapper web-components that handle lazy loading and mounting the
islands for you.

This does provide better DX but if you are trying to understand how islands
work, do go through the [webpack](#webpack) and [esbuild](#esbuild) variants
instead.

## esbuild

[&rarr; Branch: esbuild-version](https://github.com/barelyhuman/preact-islands-diy/tree/esbuild-version)

> Type: Verbose

> **Warning**: esbuild doesn't support splitting with cjs right now which might
> be problematic with a few browsers so choose this if you strictly wish to work
> with modern browsers.

> **Note**: To know more about the status of splitting,
> [evanw/esbuild#16](https://github.com/evanw/esbuild/issues/16)

The variant uses a `build.mjs` script to handle something similar to what the
webpack setup does but does is simpler in terms of setup and overall
dependencies.

Can be further trimmed down by maintaining a programmatic manifest instead of
the one generated by the plugin

# TODO

- [ ] A full guide of each folder and it's significance
- [ ] Variants
  - [x] ESBuild
  - [ ] Vite
